---
title: SWC虚拟项目
subtitle: 测试报告
author: 汤健雄
changelog:
- ver: 0.1
  date: 2020.9.16
  author: 汤健雄 
  desc: |
		1.建立文档

- ver: 0.2
  date: 2019.11.1
  author: xxx 
  desc: |
		添加脚注说明

---


# 前言

## 文档简介
此文档为P166项目软件demo的测试报告。
## 目标读者
P166项目开发者和验收人员。

## 项目背景
M 公司是一家采用全志SOC集成方案的品牌大客户，7月份跟全志合作立项, 远程联合开发一个代号 P166的重要项目，该项目基于全志A100平台，为了加快项目并行进度，P166项目客户端项目经理 L，向全志Aserver平台提交了一项软件开发需求，要求全志方提供一套易用、稳定、可复用的软件 Demo，降低客户端前期开发工作量，加快二次开发整体进度。

- 项目负责人：苏佳佳 
- 参与人员：汤健雄、FAE主管、项目经理
### 功能需求
软件Demo包含后台服务应用 A、客户端应用 B、客户端应用 C和内核模块 K四个独立组件。K作为A和B、A和C之间的通信中转站，B和C之间不能通信。 


Demo功能1：A和B发生一次通信，A将数据包编码后发送给K，K受到数据包转发给B，B对数据包完成逆向解码还原，并将原始数据的HASH值字符串通过K返还给A。A受到HASH值字符串进行正确性校验，校验成功完成通信，校验失败后Log日志抛出异常码ERN110。  


Demo功能2：同理A和C发生通信过程如上，校验失败后Log日志抛出异常码ERN120。  
## 限制条件

- 规格 
  软件开发：保证解耦设计，可被二次定制，具有一定的鲁棒性   
  代码规范：代码风格符合SWC和SW4的代码规范要求，使用git进行统一的管理  
  测试：各个模块支持多种方便、单独的调试手段，支持临时数据的调试，支持命令调试  
  文档：符合软件设计文档规范，并需在内部评审通过

- 交付说明 
  代码：提交至git仓库——SWC-Bootcamp


  文档：上传至edoc，具体文档包括：虚拟项目任务计划书，软件概要设计文档，各个组件 的测试列表、测试报告，各个模块代码的静态代码检查报告，组件之间的联调报告，代码的 ROM/RAM分析报告，开发、调试过程的记录文档，总结文档。
## 测试目标
本次测试是针对P166项目进行的验收测试，目的为了判定改系统是否满足交付要求中规定的功能与性能指标。
## 测试范围及方法

| 序号 | 测试项目     | 测试方法  | 测试工具  |
|------|--------------|-----------|-----------|
| 1    | 安装部署测试 | 黑盒/手工 | 无        |
| 2    | 模块功能测试 | 黑盒/自动 | shell脚本 |
| 3    | 系统功能测试 | 黑盒/自动 | shell脚本 |
| 4    | 联调测试     | 黑盒/自动 | shell脚本 |
| 5    | 性能测试     | 黑盒/手工 | 无        |
| 6    | 安全性       | 黑盒/手工 | 无        |
Table: 测试范围及方法

## 测试环境
本软件demo的测试运行环境主要分为三个部分，Windows pc、Linux编译器和目标硬件板。主要过程是代码通过Linux编译器编译成功之后，在Windows pc上通过串口工具和其他调试工具将编译产物推送到目标硬件板上进行测试。

![ceshitupian](figures/p1_测试环境.png){width=80% height=80% position=center angle=0}


| 测试环境        | 硬件配置              | 系统版本            | 网络环境      | 依赖工具                                                   |
|-----------------|-----------------------|---------------------|---------------|------------------------------------------------------------|
| Linux编译服务器 | 硬盘30G，支持64位系统 | Ubuntu 14.04.5 LTS  |  正常网络环境 | gcc，ncurse，bison，autoconf，wget，patch，texinfo和zlib等 |
|  Windows PC     | 正常配置              | Windows 7           |  正常网络环境 |  串口工具和adb工具                                         |
| 硬件开发板      | T507开发板            | Linux kunos 4.9.170 |  正常网络环境 | shell脚本、GDB工具                                         |
Table: 总体运行环境


# 安装部署测试
## 编译运行测试
测试源码是否能正常编译
### 前置条件
+ Linux编译服务器具备相关的交叉编译工具，且环境变量设置正确
+ Windows PC与开发板连接成功，串口工具与adb工具运行正常
+ 开发板系统运行正常
### 测试方法
+ 下载相关源码，进入顶层目录
+ 直接执行编译脚本：./script/build.sh
+ 采用adb push工具将out目录下的产物推送到开发板环境中
+ 串口或adb环境运行所有的编译产物
### 测试通过条件
+ 编译无警告和错误
+ out目录下生成：client_b,client_c,server_a和kernel_k.ko 四项编译产物
+ 将编译产物推送到开发板环境可正常执行
### 测试结论
编译无警告，产物生成正常，推送到开发板上可正常运行，安装部署测试通过。

# 功能测试
## 编码功能测试
测试编码功能是否正常
### 前置条件
+ test/encode_test/目录下代码编译成功无告警
### 测试用例
| 测试用例 |  内容                          | 描述       | 通过条件               | 通过情况 |
|----------|--------------------------------|------------|------------------------|----------|
| 1        | NULL                           | 空指针     | 异常返回值-2           | pass     |
| 2        | asjkldjalasjdk                 | 随机字符串 | 生成对应的base64编码值 | pass     |
| 3        | asjkldjalasjdk                 | 随机字符串 | 生成对应的base64编码值 | pass     |
| 4        | asjkldjalasjdk                 | 随机字符串 | 生成对应的base64编码值 | pass     |
| 5        | asjkldjalasjdk                 | 随机字符串 | 生成对应的base64编码值 | pass     |
|          | aa'aa'a'aa'a'a'aa'a'a'a'aa'a'a |            |                        |          |
Table:测试用例
### 测试方法
+ 进入test/encode_test/，执行make命令
+ 运行测试脚本，查看测试用例执行情况
### 测试通过条件
+ 通过所有的测试用例
### 测试结论
编码功能测试通过

## 解码功能测试
## 字符串hash计算测试
## netlink初始化测试
## netlink发送消息功能测试
## netlink接收消息功能测试
## 封装功能测试
## 解封装功能测试
## 消息通信功能测试
## 文件上传功能测试
## 文件下载功能测试

# 性能测试
## cpu测试
## 占用内存测试
## 硬盘读写测试
## 综合性能测试

# 安全性测试
## 内存泄露测试
## 文件描述符泄露测试

# 可移植性测试
# 可靠性测试
# 可维护性测试

# 测试过程
# 测试时间
# 测试报告补充说明
# 遗留缺陷列表清单